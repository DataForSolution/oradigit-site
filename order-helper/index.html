---
layout: default
title: OraDigit Order Helper
permalink: /order-helper/
description: Evidence-based PET/CT, CT, MRI, and more â€” structured order helper with validation and export. No PHI. Educational use only.
---

<!-- Page-scoped assets & config -->
<link rel="stylesheet" href="{{ '/order-helper/style.css' | relative_url }}?v=20250911">
<meta name="oh-rules-path" content="{{ '/order-helper/data/rules.json' | relative_url }}?v=20250911">
<meta name="oh-version" content="20250911">

<!-- Error beacon: surface JS errors in the status bar -->
<script>
  window.addEventListener('error', e => {
    const s = document.getElementById('status');
    if (s) { s.textContent = 'JavaScript error: ' + (e.message || 'Unknown'); s.className = 'oh-status error'; }
  });
</script>

<!-- Boot probe: confirm rules.json path/case before app.js runs -->
<script>
  document.addEventListener('DOMContentLoaded', async () => {
    const s = document.getElementById('status');
    if (!s) return;
    try {
      const url = document.querySelector('meta[name="oh-rules-path"]')?.content;
      if (!url) { s.textContent = 'Missing oh-rules-path meta.'; s.className = 'oh-status error'; return; }
      s.textContent = 'Boot checkâ€¦ fetching rulesâ€¦';
      const r = await fetch(url, { cache: 'no-store' });
      if (r.ok) { s.textContent = 'Boot check OK. Loading appâ€¦'; s.className = 'oh-status success'; }
      else { s.textContent = `Rules fetch failed (${r.status}). Check path/case: ` + url; s.className = 'oh-status error'; }
    } catch (e) {
      s.textContent = 'Rules fetch error: ' + e.message;
      s.className = 'oh-status error';
    }
  });
</script>

<section class="oh-hero">
  <div class="container">
    <h1 id="oh-title">OraDigit Order Helper</h1>
    <p class="sub">
      Structure clear, payer-ready imaging orders. Select modality and context; weâ€™ll generate a professional
      clinical indication and surface prep/flags. All client-side. No PHI.
    </p>
    <div id="status" class="oh-status" role="status" aria-live="polite">Ready.</div>
    <div id="rulesErrors" class="oh-status error" style="display:none"></div>
  </div>
</section>

<section class="oh-app container" aria-labelledby="oh-title" aria-label="Order Helper form">
  <div class="oh-grid">
    <!-- ================= LEFT: FORM ================= -->
    <form id="orderForm" class="oh-card" autocomplete="off" novalidate>
      <!-- Modality -->
      <div class="oh-row">
        <label for="modality">Modality <span aria-hidden="true">*</span></label>
        <select id="modality" name="modality" required>
          <!-- options populated by app.js from rules.json -->
        </select>
        <small class="hint">Regions, body parts, contrast, and contexts adapt to your selection.</small>
      </div>

      <!-- Region + Body Part -->
      <div class="oh-row two">
        <div>
          <label for="region">Region <span aria-hidden="true">*</span></label>
          <select id="region" name="region" required></select>
        </div>
        <div>
          <label for="bodyPart">Body Part <span aria-hidden="true">*</span></label>
          <select id="bodyPart" name="bodyPart" required></select>
        </div>
      </div>

      <!-- Contrast + Laterality -->
      <div class="oh-row two">
        <div>
          <label for="contrast">Contrast</label>
          <select id="contrast" name="contrast"></select>
        </div>
        <div>
          <label for="laterality">Laterality</label>
          <select id="laterality" name="laterality"></select>
        </div>
      </div>

      <!-- Context + Urgency -->
      <div class="oh-row two">
        <div>
          <label for="context">Clinical Context</label>
          <select id="context" name="context"></select>
          <small class="hint">e.g., Staging, Restaging, Treatment response, Surveillance, Acute</small>
        </div>
        <div>
          <label for="urgency">Urgency</label>
          <select id="urgency" name="urgency">
            <option value="Routine">Routine</option>
            <option value="Urgent">Urgent</option>
            <option value="STAT">STAT</option>
          </select>
        </div>
      </div>

      <!-- Condition + ICD-10 + CPT -->
      <div class="oh-row two">
        <div>
          <label for="condition">Condition (structured)</label>
          <input id="condition" name="condition" list="conditionList" placeholder="e.g., NSCLC, stroke, appendicitis" />
          <datalist id="conditionList"></datalist>
        </div>
        <div>
          <label for="icd10">ICD-10</label>
          <input id="icd10" name="icd10" list="icdList" placeholder="e.g., C34.90" />
          <datalist id="icdList"></datalist>
        </div>
      </div>

      <div class="oh-row">
        <label for="cpt">CPT (suggested)</label>
        <select id="cpt" name="cpt"></select>
      </div>

      <!-- Indication -->
      <div class="oh-row">
        <label for="indication">Clinical Indication (free text)</label>
        <textarea id="indication" name="indication" rows="3" placeholder="Auto-generated (you can edit)â€¦"></textarea>
      </div>

      <!-- Safety / Special -->
      <div class="oh-row two">
        <div>
          <label for="pregnant">Pregnancy status</label>
          <select id="pregnant" name="pregnant">
            <option value="Unknown">Unknown</option>
            <option value="No">No</option>
            <option value="Yes">Yes</option>
            <option value="N/A">N/A</option>
          </select>
        </div>
        <div>
          <label for="creatinineDate">Most recent creatinine (date)</label>
          <input id="creatinineDate" name="creatinineDate" type="date" />
        </div>
      </div>

      <div class="oh-row">
        <label for="allergies">Allergies / Precautions</label>
        <input id="allergies" name="allergies" placeholder="e.g., contrast allergy; premed needed" />
      </div>

      <div class="oh-row">
        <label for="special">Special Instructions</label>
        <input id="special" name="special" placeholder="e.g., sedation, interpreter, infection precautions" />
      </div>

      <!-- Actions -->
      <div class="oh-actions">
        <button type="button" id="btnSuggest" class="btn">Suggest Reason</button>
        <button type="submit" id="btnSubmit" class="btn btn-primary">Submit</button>
        <button type="button" id="btnReset" class="btn btn-ghost">Reset</button>
      </div>
    </form>

    <!-- ================= RIGHT: ORDER REVIEW ================= -->
    <aside class="oh-card review" aria-label="Order review">
      <div class="oh-review-header">
        <h2>Order Review</h2>
        <div class="oh-review-actions">
          <button id="btnCopy" class="icon-btn" title="Copy to clipboard">ðŸ“‹</button>
          <button id="btnShare" class="icon-btn" title="Share">ðŸ”—</button>
        </div>
      </div>
      <pre id="review" class="oh-review">Select options to build the orderâ€¦</pre>
    </aside>
  </div>

  <p class="oh-disclaimer">Do not enter PHI beyond what is clinically required. This tool supports ordering but does not replace clinical judgment.</p>
</section>

<!-- Optional: Firebase CDN (Compat) â€” only used if you provide window.ORADIGIT_FIREBASE_CONFIG -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js" defer></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js" defer></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js" defer></script>

<!-- Lightweight auto-init (only runs if you define window.ORADIGIT_FIREBASE_CONFIG site-wide) -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    try {
      if (window.ORADIGIT_FIREBASE_CONFIG && !window.firebase?.apps?.length) {
        firebase.initializeApp(window.ORADIGIT_FIREBASE_CONFIG);
        window.OH_FIREBASE = {
          app: firebase.app(),
          auth: firebase.auth(),
          db: firebase.firestore()
        };
        const s = document.getElementById('status');
        if (s) { s.textContent = 'Firebase ready.'; s.className = 'oh-status success'; }
      }
    } catch (e) {
      const s = document.getElementById('status');
      if (s) { s.textContent = 'Firebase failed to initialize. Check your config.'; s.className = 'oh-status warn'; }
      console.warn('Firebase init error:', e);
    }
  });
</script>
<!-- PDF generator (client-side) -->
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>

<!-- App logic (keep last) -->
<script defer src="{{ '/order-helper/firebase-config.js' | relative_url }}?v=20250911"></script>
<script defer src="{{ '/order-helper/app.js' | relative_url }}?v=20250911"></script>
